# pnpm 캐시 실험

이 예제는 pnpm의 캐시 시스템의 효율성을 보여주는 실험입니다.

## 실험 목적

1. pnpm의 캐시 메커니즘 이해
2. 캐시가 설치 속도에 미치는 영향 측정
3. 디스크 공간 사용량 분석

## 실험 구성

### package.json

```json
{
  "name": "cache-experiment",
  "version": "1.0.0",
  "dependencies": {
    "react": "^18.3.1",
    "lodash": "^4.17.21"
  }
}
```

### 실험 스크립트

`cache-test.sh` 스크립트는 다음 단계를 수행합니다:

1. 캐시 위치 확인
2. 초기 설치 시간 측정
3. node_modules 크기 확인
4. node_modules 삭제 후 재설치 시간 측정 (캐시 사용)
5. 캐시 정보 확인
6. 캐시 삭제 후 설치 시간 측정

## 실험 실행 방법

```bash
# 스크립트 실행 권한 부여
chmod +x cache-test.sh

# 실험 실행
./cache-test.sh
```

## 기대 결과

1. **초기 설치**

   - 패키지 다운로드 필요
   - 캐시 생성
   - 상대적으로 긴 설치 시간

2. **캐시 사용 재설치**

   - 다운로드 없음
   - 하드링크만 생성
   - 매우 빠른 설치

3. **캐시 삭제 후 설치**
   - 패키지 재다운로드
   - 새로운 캐시 생성
   - 초기 설치와 유사한 시간

## 주요 관찰 포인트

1. **설치 시간 비교**

   - 캐시 사용 vs 미사용 시의 설치 시간 차이
   - 하드링크 생성 속도

2. **디스크 공간 효율성**

   - node_modules 크기
   - 캐시 저장소 크기
   - 하드링크를 통한 공간 절약

3. **캐시 동작 방식**
   - Content-addressable 스토어 구조
   - 메타데이터 캐시 활용
   - 패키지 재사용 메커니즘
